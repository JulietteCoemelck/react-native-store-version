export const getAndroidVersion = async (storeURL = '') => {
    const appIDString = storeURL.match(/details\?id=[0-9a-zA-Z.]+/);
    if (!appIDString) {
        throw new Error('androidStoreURL is invalid.');
    }
    const response = await fetch(`https://play.google.com/store/apps/${appIDString[0]}`).then((r) => {
        if (r.status === 200) {
            return r.text();
        }
        throw new Error('androidStoreURL is invalid.');
    });
    const matches = response.match(/\[\[\[['"]((\d+\.)+\d+)['"]\]\],/);
    if (!matches) {
        throw new Error("can't get android app version.");
    }
    return matches[1];
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5kcm9pZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hbmRyb2lkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxRQUFRLEdBQUcsRUFBRSxFQUFtQixFQUFFO0lBQ3hFLE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUVoRSxJQUFJLENBQUMsV0FBVyxFQUFFO1FBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsNkJBQTZCLENBQUMsQ0FBQztLQUNoRDtJQUVELE1BQU0sUUFBUSxHQUFHLE1BQU0sS0FBSyxDQUMxQixzQ0FBc0MsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQ3ZELENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7UUFDWCxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssR0FBRyxFQUFFO1lBQ3BCLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ2pCO1FBRUQsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQ2pELENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0lBRW5FLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDWixNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7S0FDbkQ7SUFFRCxPQUFPLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2V0QW5kcm9pZFZlcnNpb24gPSBhc3luYyAoc3RvcmVVUkwgPSAnJyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gIGNvbnN0IGFwcElEU3RyaW5nID0gc3RvcmVVUkwubWF0Y2goL2RldGFpbHNcXD9pZD1bMC05YS16QS1aLl0rLyk7XG5cbiAgaWYgKCFhcHBJRFN0cmluZykge1xuICAgIHRocm93IG5ldyBFcnJvcignYW5kcm9pZFN0b3JlVVJMIGlzIGludmFsaWQuJyk7XG4gIH1cblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgIGBodHRwczovL3BsYXkuZ29vZ2xlLmNvbS9zdG9yZS9hcHBzLyR7YXBwSURTdHJpbmdbMF19YFxuICApLnRoZW4oKHIpID0+IHtcbiAgICBpZiAoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgcmV0dXJuIHIudGV4dCgpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcignYW5kcm9pZFN0b3JlVVJMIGlzIGludmFsaWQuJyk7XG4gIH0pO1xuXG4gIGNvbnN0IG1hdGNoZXMgPSByZXNwb25zZS5tYXRjaCgvXFxbXFxbXFxbWydcIl0oKFxcZCtcXC4pK1xcZCspWydcIl1cXF1cXF0sLyk7XG5cbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZ2V0IGFuZHJvaWQgYXBwIHZlcnNpb24uXCIpO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXNbMV07XG59O1xuIl19